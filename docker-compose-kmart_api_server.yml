version: '3.9'
services:
  kmart-product:
    image: leejeongtak/kmart-app
    container_name: kmart-product
    ports:
      - "8081:8080"

  kmart-payment:
    image: leejeongtak/kmart-app
    container_name: kmart-payment
    ports:
      - "8082:8080"

  kmart-order:
    image: leejeongtak/kmart-app
    container_name: kmart-order
    ports:
      - "8083:8080"
    environment:
      - api_server_name=kmart-order

  kmart-shipment:
    image: leejeongtak/kmart-app
    container_name: kmart-shipment
    ports:
      - "8084:8080"
    environment:
      - api_server_name=kmart-shipment

networks:
  default:
    external:
      name : kafka-net